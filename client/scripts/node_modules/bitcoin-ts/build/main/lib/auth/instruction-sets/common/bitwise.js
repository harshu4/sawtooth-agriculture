"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const combinators_1 = require("./combinators");
const flow_control_1 = require("./flow-control");
const opcodes_1 = require("./opcodes");
const types_1 = require("./types");
const areEqual = (a, b) => {
    if (a.length !== b.length) {
        return false;
    }
    // eslint-disable-next-line functional/no-let, functional/no-loop-statement, no-plusplus
    for (let i = 0; i < a.length; i++) {
        if (a[i] !== b[i]) {
            return false;
        }
    }
    return true;
};
exports.opEqual = () => (state) => combinators_1.useTwoStackItems(state, (nextState, element1, element2) => combinators_1.pushToStack(nextState, types_1.booleanToScriptNumber(areEqual(element1, element2))));
exports.opEqualVerify = () => combinators_1.combineOperations(exports.opEqual(), flow_control_1.opVerify());
exports.bitwiseOperations = () => ({
    [opcodes_1.OpcodesCommon.OP_EQUAL]: exports.opEqual(),
    [opcodes_1.OpcodesCommon.OP_EQUALVERIFY]: exports.opEqualVerify()
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYml0d2lzZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uL3NyYy9saWIvYXV0aC9pbnN0cnVjdGlvbi1zZXRzL2NvbW1vbi9iaXR3aXNlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBT0EsK0NBSXVCO0FBQ3ZCLGlEQUEwQztBQUMxQyx1Q0FBMEM7QUFDMUMsbUNBQWdEO0FBRWhELE1BQU0sUUFBUSxHQUFHLENBQUMsQ0FBYSxFQUFFLENBQWEsRUFBRSxFQUFFO0lBQ2hELElBQUksQ0FBQyxDQUFDLE1BQU0sS0FBSyxDQUFDLENBQUMsTUFBTSxFQUFFO1FBQ3pCLE9BQU8sS0FBSyxDQUFDO0tBQ2Q7SUFDRCx3RkFBd0Y7SUFDeEYsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7UUFDakMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFO1lBQ2pCLE9BQU8sS0FBSyxDQUFDO1NBQ2Q7S0FDRjtJQUNELE9BQU8sSUFBSSxDQUFDO0FBQ2QsQ0FBQyxDQUFDO0FBRVcsUUFBQSxPQUFPLEdBQUcsR0FHRCxFQUFFLENBQUMsQ0FBQyxLQUFZLEVBQUUsRUFBRSxDQUN4Qyw4QkFBZ0IsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxTQUFTLEVBQUUsUUFBUSxFQUFFLFFBQVEsRUFBRSxFQUFFLENBQ3hELHlCQUFXLENBQUMsU0FBUyxFQUFFLDZCQUFxQixDQUFDLFFBQVEsQ0FBQyxRQUFRLEVBQUUsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUM1RSxDQUFDO0FBRVMsUUFBQSxhQUFhLEdBQUcsR0FHUCxFQUFFLENBQ3RCLCtCQUFpQixDQUFDLGVBQU8sRUFBaUIsRUFBRSx1QkFBUSxFQUFpQixDQUFDLENBQUM7QUFFNUQsUUFBQSxpQkFBaUIsR0FBRyxHQUk3QixFQUFFLENBQUMsQ0FBQztJQUNOLENBQUMsdUJBQWEsQ0FBQyxRQUFRLENBQUMsRUFBRSxlQUFPLEVBQWlCO0lBQ2xELENBQUMsdUJBQWEsQ0FBQyxjQUFjLENBQUMsRUFBRSxxQkFBYSxFQUFpQjtDQUMvRCxDQUFDLENBQUMifQ==